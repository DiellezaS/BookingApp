{% extends 'base.html' %}

{% block title %}My Profile{% endblock %}

{% block content %}
<div class="container">
    <h2>Welcome, {{ user.username }}!</h2>
    <p>Hereâ€™s an overview of your activities:</p>

    <!-- Profile Information Section -->
    <div class="mt-4">
        <h3>Profile Information</h3>
        <ul class="list-group">
            <li class="list-group-item"><strong>Name:</strong> {{ user.username}}</li>
            <li class="list-group-item"><strong>Email:</strong> {{ user.email }}</li>
        </ul>
    </div>

    <!-- User's Bookings Section -->
    <div class="mt-4">
        <h3>Your Bookings</h3>
        {% if bookings %}
            <ul class="list-group">
                {% for booking in bookings %}
                    <li class="list-group-item">
                        <strong>Property:</strong> {{ booking.property.name }} <br>
                        <strong>Check-in:</strong> {{ booking.start_date }} <br>
                        <strong>Check-out:</strong> {{ booking.end_date }} <br>
                        <strong>Status:</strong> {% if booking.status %} {{ booking.status }} {% else %} Pending {% endif %}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No bookings yet.</p>
        {% endif %}
    </div>

    <!-- User's Listed Properties Section -->
    <div class="mt-4">
        <h3>Your Listed Properties</h3>
        {% if listed_properties %}
            <ul class="list-group">
                {% for property in listed_properties %}
                    <li class="list-group-item">
                        <strong>Name:</strong> {{ property.name }} <br>
                        <strong>Location:</strong> {{ property.location }} <br>
                        <strong>Status:</strong> {% if property.is_available %} Available {% else %} Reserved {% endif %}
                        <a href="{% url 'property_detail' property.id %}" class="btn btn-primary btn-sm mt-2">View Details</a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>You haven't listed any properties yet.</p>
        {% endif %}
    </div>

    <!-- Edit Profile Section -->
   
</div>
{% endblock %}
